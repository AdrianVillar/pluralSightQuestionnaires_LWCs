<template>
<!--
        <p>selectedQuestionnaire: {selectedQuestionnaire}</p>
        <p>selectedQuestionnaireId: {selectedQuestionnaireId}</p>
-->
<h2 if:false={showQuestionnaire} class="slds-text-align_center slds-text-heading_large slds-m-around_large">
    {json.pageTitle}
</h2>

<!-- FIRST STAGE : ADD LDS to Card -->
<div if:false={showQuestionnaire} class="slds-m-around_medium">
    <template if:true={questionnaires.data}>
        <template for:each={questionnaires.data} for:item="questionnaire">
                <c-questionnaire-card key={questionnaire.questionnaireId} 
                                        record-id={questionnaire.questionnaireId}
                                        questionnaire={questionnaire} 
                                        onselected={openQuestionnaire}></c-questionnaire-card>
        </template>
    </template>
    <template if:true={questionnaires.error}>
        {questionnaires.error}>
    </template>
</div>
<!--
<template if:false={showQuestionnaire} for:each={json.questionnaires} for:item="questionnaire">
    <c-questionnaire-card key={questionnaire.name} 
                            questionnaire={questionnaire} 
                            onselected={openQuestionnaire}>
    </c-questionnaire-card>
</template>
-->
<!-- SECOND STAGE : ADD selected-questionnaire-id -->
<div onupdatequestionnaire={handleUpdateQuestionnaire}>
<c-questionnaire-lwc if:true={showQuestionnaire} 
                    selected-questionnaire-id={selectedQuestionnaireId} 
                    selected-questionnaire-obj={selectedQuestionnaire}
                    onclose={closeQuestionnaire}
                    ></c-questionnaire-lwc>
                    <!--
onupdatequestionnairelist={handleUpdateQuestionnaireList}
                    -->
</div>

</template>